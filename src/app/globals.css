@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";

:root {
  /* Semantic tokens (RGB triplets without rgb() for Tailwind CSS variable usage) */
  /* Light mode: Premium slate + blue */
  --background: 240 245 251;
  --surface: 232 239 247;
  --card: 246 250 255;
  --border: 206 217 230;
  --text-primary: 15 23 42;
  --text-secondary: 55 72 95;
  --primary: 37 99 235;
  --primary-foreground: 255 255 255;
  --accent: 29 78 216;
  --success: 34 197 94;
  --warning: 245 158 11;
  --danger: 239 68 68;

  /* Radii */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-2xl: 1rem;

  /* Shadows (fallback used by CSS; Tailwind uses config) */
  --shadow-soft: 0 1px 2px rgba(0,0,0,0.05);
  --shadow-card: 0 4px 12px rgba(0,0,0,0.06);
  --shadow-lift: 0 10px 30px rgba(0,0,0,0.08);
  --elevation-1: 0 1px 2px rgba(15, 23, 42, 0.08), 0 4px 10px rgba(15, 23, 42, 0.06);
  --elevation-2: 0 6px 18px rgba(15, 23, 42, 0.12);
  --elevation-3: 0 14px 34px rgba(15, 23, 42, 0.18);

  /* Motion system */
  --motion-hover: 120ms;
  --motion-standard: 200ms;
  --motion-modal: 350ms;
  --ease-standard: cubic-bezier(0.22, 1, 0.36, 1);

  /* Animated background gradient tokens */
  --gradient-1: #e8eff8;
  --gradient-2: #dde6f2;
  --gradient-3: #cfdbed;
  --gradient-4: #d7e3f4;
}

.dark {
  /* Dark mode: premium slate */
  --background: 2 6 23;
  --surface: 15 23 42;
  --card: 15 23 42;
  --border: 30 41 59;
  --text-primary: 241 245 249;
  --text-secondary: 163 177 198;
  --primary: 59 130 246;
  --primary-foreground: 255 255 255;
  --accent: 37 99 235;
  --success: 34 197 94;
  --warning: 245 158 11;
  --danger: 239 68 68;

  --gradient-1: #020617;
  --gradient-2: #0b1220;
  --gradient-3: #111827;
  --gradient-4: #1e293b;

  --elevation-1: 0 1px 2px rgba(0, 0, 0, 0.45), 0 4px 10px rgba(0, 0, 0, 0.28);
  --elevation-2: 0 7px 18px rgba(0, 0, 0, 0.44);
  --elevation-3: 0 16px 36px rgba(0, 0, 0, 0.5);
}

/* Utility classes for semantic tokens (keeps class names simple in markup) */
@layer base {
  * { box-sizing: border-box; }
  html,
  body,
  #__next {
    height: 100%;
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
    overflow-x: clip;
  }
  body {
    background-color: rgb(var(--background));
    color: rgb(var(--text-primary));
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  /* Smooth but subtle interactions across the app. */
  button, a, [role="button"], input, select, textarea { transition: color 200ms var(--tw-ease-in-out), background-color 200ms var(--tw-ease-in-out); }
}

/* Tailwind utilities expect these semantic classes (bg-card, bg-background, text-primary, border-border) */
.bg-background { background-color: rgb(var(--background)); }
.bg-surface { background-color: rgb(var(--surface)); }
.bg-card { background-color: rgb(var(--card)); }
.bg-primary { background-color: rgb(var(--primary)); }
.bg-accent { background-color: rgb(var(--accent)); }
.text-primary { color: rgb(var(--text-primary)); }
.text-secondary { color: rgb(var(--text-secondary)); }
.text-primary-foreground { color: rgb(var(--primary-foreground)); }
.text-accent-foreground { color: rgb(var(--text-primary)); }
.text-on-background { color: rgb(var(--text-primary)); }
.text-on-card { color: rgb(var(--text-primary)); }
.border-border { border-color: rgb(var(--border)); }
.ring-primary { box-shadow: 0 0 0 3px rgb(var(--primary) / 0.12); }

/* Legacy light-mode utility harmonization */
html:not(.dark) .bg-white { background-color: rgb(var(--card)); }
html:not(.dark) .bg-white\/95 { background-color: rgb(var(--card) / 0.95); }
html:not(.dark) .bg-white\/90 { background-color: rgb(var(--card) / 0.9); }
html:not(.dark) .bg-white\/80 { background-color: rgb(var(--card) / 0.84); }
html:not(.dark) .bg-slate-50 { background-color: rgb(var(--surface)); }
html:not(.dark) .bg-slate-50\/80 { background-color: rgb(var(--surface) / 0.82); }
html:not(.dark) .bg-slate-50\/70 { background-color: rgb(var(--surface) / 0.76); }
html:not(.dark) .bg-slate-50\/30 { background-color: rgb(var(--surface) / 0.38); }
html:not(.dark) .border-slate-200 { border-color: rgb(var(--border)); }
html:not(.dark) .border-slate-200\/80 { border-color: rgb(var(--border) / 0.85); }
html:not(.dark) .border-slate-200\/70 { border-color: rgb(var(--border) / 0.76); }
html:not(.dark) .border-slate-200\/60 { border-color: rgb(var(--border) / 0.64); }
html:not(.dark) .from-white {
  --tw-gradient-from: rgb(var(--card)) var(--tw-gradient-from-position);
  --tw-gradient-to: rgb(var(--card) / 0) var(--tw-gradient-to-position);
}
html:not(.dark) .via-slate-50 {
  --tw-gradient-to: rgb(var(--surface) / 0) var(--tw-gradient-to-position);
  --tw-gradient-stops: var(--tw-gradient-from), rgb(var(--surface)) var(--tw-gradient-via-position), var(--tw-gradient-to);
}

/* CTA premium motion (shared for all Button variant=cta) */
[data-slot="button"][data-variant="cta"]::after {
  content: "";
  position: absolute;
  top: 0;
  left: -120%;
  width: 60%;
  height: 100%;
  background: linear-gradient(
    110deg,
    transparent 0%,
    rgba(255, 255, 255, 0.3) 50%,
    transparent 100%
  );
  transform: skewX(-18deg);
  pointer-events: none;
  transition: left 520ms ease;
}

[data-slot="button"][data-variant="cta"]:hover::after {
  left: 140%;
}

[data-slot="button"][data-variant="cta"]:active:not(:disabled) {
  transform: scale(0.98);
  box-shadow: var(--shadow-card);
}

/* Shadows fallback utilities */
.shadow-soft { box-shadow: var(--shadow-soft); }
.shadow-card { box-shadow: var(--shadow-card); }
.shadow-lift { box-shadow: var(--shadow-lift); }
.elevation-1 { box-shadow: var(--elevation-1); }
.elevation-2 { box-shadow: var(--elevation-2); }
.elevation-3 { box-shadow: var(--elevation-3); }

/* Motion primitives */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.98); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes routeEnter {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes loadingBarSweep {
  0% { transform: translateX(-110%); }
  100% { transform: translateX(320%); }
}

@keyframes shimmerSweep {
  0% { transform: translateX(-150%); }
  100% { transform: translateX(250%); }
}

@keyframes bootPulse {
  0% { transform: scale(1); opacity: 0.65; }
  50% { transform: scale(1.06); opacity: 1; }
  100% { transform: scale(1); opacity: 0.65; }
}

@keyframes bootCoreFloat {
  0% { transform: translateY(0); }
  50% { transform: translateY(-2px); }
  100% { transform: translateY(0); }
}

.animate-fade-in {
  animation: fadeIn 360ms ease-out both;
}

.animate-fade-up {
  animation: fadeUp 420ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

.animate-scale-in {
  animation: scaleIn 360ms ease-out both;
}

.animate-route-enter {
  animation: routeEnter 300ms ease-out both;
}

.stagger-1 { animation-delay: 60ms; }
.stagger-2 { animation-delay: 120ms; }
.stagger-3 { animation-delay: 180ms; }
.stagger-4 { animation-delay: 240ms; }
.stagger-5 { animation-delay: 300ms; }
.stagger-6 { animation-delay: 360ms; }

.hover-lift-soft {
  transition:
    transform var(--motion-standard) var(--ease-standard),
    box-shadow var(--motion-standard) var(--ease-standard);
}

.hover-lift-soft:hover {
  transform: translateY(-2px);
  box-shadow: var(--elevation-3);
}

.hover-depth-3d {
  transform-style: preserve-3d;
  transition:
    transform var(--motion-standard) var(--ease-standard),
    box-shadow var(--motion-standard) var(--ease-standard);
}

.hover-depth-3d:hover {
  transform: perspective(1100px) translateY(-2px) rotateX(1.5deg) rotateY(-1.5deg);
  box-shadow: var(--elevation-3);
}

.shimmer-surface {
  position: relative;
  overflow: hidden;
  background: rgb(var(--surface));
}

.shimmer-surface::after {
  content: "";
  position: absolute;
  inset: 0;
  width: 42%;
  transform: translateX(-150%);
  background: linear-gradient(
    90deg,
    transparent,
    rgb(var(--card)/0.65),
    transparent
  );
  animation: shimmerSweep 1.3s ease-in-out infinite;
}

.page-loading-shell {
  display: flex;
  min-height: 100vh;
  align-items: center;
  justify-content: center;
  background: rgb(var(--background));
}

.page-loading-bar-track {
  position: relative;
  width: min(320px, 72vw);
  height: 6px;
  overflow: hidden;
  border-radius: 999px;
  background: rgb(var(--surface));
  border: 1px solid rgb(var(--border));
}

.page-loading-bar {
  position: absolute;
  inset: 0;
  width: 40%;
  border-radius: 999px;
  background: linear-gradient(
    90deg,
    rgb(var(--primary) / 0.45),
    rgb(var(--primary)),
    rgb(var(--accent))
  );
  animation: loadingBarSweep 1.15s ease-in-out infinite;
}

.boot-logo-ring {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 4rem;
  height: 4rem;
  border-radius: 999px;
  border: 1px solid rgb(var(--border));
  background: rgb(var(--surface) / 0.7);
  animation: bootPulse 1.05s ease-in-out infinite;
}

.boot-logo-core {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 2.6rem;
  height: 2.6rem;
  border-radius: 0.85rem;
  background: linear-gradient(
    135deg,
    rgb(var(--primary)),
    rgb(var(--accent))
  );
  color: rgb(var(--primary-foreground));
  box-shadow: var(--shadow-card);
  animation: bootCoreFloat 1.1s ease-in-out infinite;
}

/* ===== Animated Background Gradient ===== */
.animated-bg {
  background: linear-gradient(
    -45deg,
    var(--gradient-1),
    var(--gradient-2),
    var(--gradient-3),
    var(--gradient-4)
  );
  background-size: 280% 280%;
  animation: gradientShift 22s ease infinite;
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* ===== Glass System ===== */
.glass-card {
  background: rgba(246, 250, 255, 0.74);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  border: 1px solid rgba(148, 163, 184, 0.42);
  box-shadow: 0 8px 28px rgba(15, 23, 42, 0.12);
  border-radius: 16px;
}

.dark .glass-card {
  background: rgba(15, 23, 42, 0.68);
  border: 1px solid rgba(148, 163, 184, 0.16);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.34);
}

/* ===== Depth System ===== */
.depth-wrapper {
  perspective: 1400px;
  transform-style: preserve-3d;
}

.depth-layer {
  transform: translateZ(0);
  transition: transform 0.4s ease, box-shadow 0.4s ease;
  will-change: transform;
}

.depth-layer:hover {
  transform: translateZ(30px);
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.35);
}

/* ===== Floating Hero ===== */
.floating {
  animation: float 6s ease-in-out infinite;
}

@keyframes float {
  0% { transform: translateY(0); }
  50% { transform: translateY(-12px); }
  100% { transform: translateY(0); }
}

/* ===== CTA Modern ===== */
.cta-modern {
  position: relative;
  overflow: hidden;
  isolation: isolate;
  background: linear-gradient(135deg, #2563eb, #7c3aed);
  color: #fff;
}

.cta-modern::before {
  content: "";
  position: absolute;
  inset: -2px;
  background: linear-gradient(135deg, #3b82f6, #a855f7);
  filter: blur(20px);
  opacity: 0;
  transition: opacity 0.4s ease;
  z-index: -1;
}

.cta-modern:hover::before {
  opacity: 0.7;
}

/* ===== Dashboard texture ===== */
.bg-grid {
  background-image:
    linear-gradient(rgba(148, 163, 184, 0.09) 1px, transparent 1px),
    linear-gradient(90deg, rgba(148, 163, 184, 0.09) 1px, transparent 1px);
  background-size: 40px 40px;
}

.dark .bg-grid {
  background-image:
    linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
}

.noise-overlay {
  position: relative;
  isolation: isolate;
}

.noise-overlay::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.06;
  background-image: radial-gradient(rgba(15, 23, 42, 0.12) 0.45px, transparent 0.45px);
  background-size: 3px 3px;
}

.dark .noise-overlay::after {
  opacity: 0.05;
  background-image: radial-gradient(rgba(255, 255, 255, 0.2) 0.45px, transparent 0.45px);
}

@media (prefers-reduced-motion: reduce) {
  .animate-fade-in,
  .animate-fade-up,
  .animate-scale-in,
  .animate-route-enter,
  .animated-bg,
  .floating,
  .page-loading-bar,
  .shimmer-surface::after,
  .boot-logo-ring,
  .boot-logo-core {
    animation: none !important;
  }

  .hover-lift-soft,
  .hover-lift-soft:hover {
    transition: none !important;
    transform: none !important;
    box-shadow: var(--shadow-card);
  }

  [data-slot="button"][data-variant="cta"]::after {
    transition: none !important;
    left: -120% !important;
  }

  .depth-layer,
  .depth-layer:hover,
  .cta-modern::before,
  .cta-modern:hover::before {
    transition: none !important;
    transform: none !important;
    opacity: 0 !important;
  }
}

/* Container helper */
.container-app { width: 100%; max-width: 1400px; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem; }
@media (min-width: 640px) { .container-app { padding-left: 1.5rem; padding-right: 1.5rem; } }
@media (min-width: 1024px) { .container-app { padding-left: 2rem; padding-right: 2rem; } }
